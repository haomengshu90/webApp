$(function(){var a=window.location.href.split("l?search=")[1];if(a=="true"){var d=window.sessionStorage.getItem("holderName");var c=window.sessionStorage.getItem("idCard");var f=window.sessionStorage.getItem("bankNum");var b=window.sessionStorage.getItem("bankAdd");var e=window.sessionStorage.getItem("ulKey");$("#holderName").val(d);$("#idCard").val(c);$("#bankNum").val(f);$("#bankAdd").val(b);$("#branchBank").val(e)}});$(document).ready(function(){var a={holderName:{reg:/^[\u4E00-\u9FA5]{1,8}$/,empty:"å§“åæ˜¯å¿…å¡«é¡¹",error:"å§“åä¸ç¬¦åˆæ ¼å¼?"},idCard:{reg:/(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/,empty:"èº«ä»½è¯æ˜¯å¿…å¡«é¡?",error:"èº«ä»½è¯ä¸ç¬¦åˆæ ¼å¼"},bankNum:{reg:/([\d]{4})([\d]{4})([\d]{4})([\d]{4})([\d]{0,})/,empty:"é“¶è¡Œå¡æ˜¯å¿…å¡«é¡?",error:"é“¶è¡Œå¡ä¸ç¬¦åˆæ ¼å¼"}};var b=false;$("#postInfo").on("click",function(){var d=$("#holderName").val().trim("");var c=$("#idCard").val().trim("");var i=$("#bankNum").val().trim("");var g=$("#bankAdd").val().trim("");var j=/^[\u4E00-\u9FA5]{1,8}$/;if(!d){$("#holderName").attr("placeholder","åç§°æ˜¯å¿…å¡«é¡¹")}else{if(j&&!j.test(d)){$("#holderName").val("");$("#holderName").attr("placeholder","æ‚¨è¾“å…¥çš„åç§°ä¸ç¬¦åˆæ ¼å¼?")}}var f=test("holderName",d,a);var h=test("idCard",c,a);var k=test("bankNum",i,a);console.log(f);console.log(h);console.log(h);if(f&&h&&k&&g&&branchBank){alert("å…¨éƒ¨ç¬¦åˆè§„åˆ™");if(b==false){$("#remindBox").show();$(".zhezhao").show();$(".mPicker-mask").css({display:"block"})}else{var e=$("form#payInfo").serialize()}}});$("#jump").on("click",function(){$("#remindBox").hide();$(".zhezhao").hide();b=true});$("#provide").on("click",function(){$("#remindBox").hide();$(".zhezhao").hide();b=true})});function test(b,f,c){var d=c[b].reg;var a=c[b].empty;var e=c[b].error;if(!f){$("input[name="+b+"]").attr("placeholder",a)}else{if(f&&!d.test(f)){$("input[name="+b+"]").val("");$("input[name="+b+"]").attr("placeholder",e)}else{if(d.test(f)){return true}}}}$(function(){var a=window.sessionStorage.getItem("ulKey");console.log(a);$("#branchBank").val(a||"è¯·é?‰æ‹©");$("#branchBank").on("click",function(){var b=$("#holderName").val();var d=$("#idCard").val();var c=$("#bankNum").val();var e=$("#bankAdd").val();window.sessionStorage.setItem("holderName",b);window.sessionStorage.setItem("idCard",d);window.sessionStorage.setItem("bankNum",c);window.sessionStorage.setItem("bankAdd",e);window.location.href="searchbank.html"})});function testInput(c,a){var b=$(c).val();if(!b){$(c).attr("placeholder",a.empty)}else{if(b&&!a.reg.test(b)){$(c).val("");$(c).attr("placeholder",a.errorStr)}else{if(a.reg.test(b)){return true}}}};